"use strict";(self.webpackChunkfacebook_clone_app_react_client=self.webpackChunkfacebook_clone_app_react_client||[]).push([[955],{7955:function(n,e,t){t.r(e),t.d(e,{default:function(){return G}});var o=t(3430),i=t(1288),r=t(8302),c=t(2067),s=t(8096),a=t(1969),l=t(159),d=t(2791),u=t(1876),x=t(6513),h=t(3837),f=t(5159),j=t(4026),Z=t(5720),p=t(269),g=t(2130),v=(0,t(1997).Z)(d.createElement("path",{d:"M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"}),"LocationOn"),m=t(1044);var y=function(){var n=(0,d.useState)(!1),e=(0,o.Z)(n,2),t=e[0],i=e[1],r=(0,d.useState)(null),c=(0,o.Z)(r,2),s=c[0],a=c[1],l=(0,d.useState)(null),u=(0,o.Z)(l,2),x=u[0],h=u[1];function f(){a("Could not find location . Enter location manually"),i(!1)}return{loading:t,data:x,error:s,getLocation:function(){i(!0),navigator.geolocation.getCurrentPosition((function(n){!function(n){var e="https://geocode.xyz/".concat(n.coords.latitude,",").concat(n.coords.longitude,"?json=1");m.ZP.get(e).then((function(n){!function(n){h({city:null===n||void 0===n?void 0:n.city,country:null===n||void 0===n?void 0:n.country,lat:null===n||void 0===n?void 0:n.latt,lng:null===n||void 0===n?void 0:n.longt,region:null===n||void 0===n?void 0:n.region,state:null===n||void 0===n?void 0:n.state,timezone:null===n||void 0===n?void 0:n.timezone}),i(!1)}(n.data)})).catch((function(n){f()}))}(n)}),(function(n){f()}),{timeout:7e3})},setError:a}},w=t(184);var S=function(n){var e=n.location,t=n.setLocation,i=n.updateLocation,c=(n.loading,(0,d.useState)(!1)),s=(0,o.Z)(c,2),a=s[0],l=s[1],u=y(),m=u.loading,S=u.error,U=u.data,C=u.setError,L=u.getLocation;return(0,d.useEffect)((function(){t(U)}),[U]),(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(x.Z,{variant:"contained",color:"primary",onClick:function(){return l(!0)},children:"Edit"}),(0,w.jsxs)(h.Z,{open:a,onClose:function(){return l(!1)},maxWidth:"sm",fullWidth:!0,children:[(0,w.jsx)(f.Z,{children:"Update Location"}),(0,w.jsxs)(j.Z,{children:[S&&(0,w.jsx)(g.Z,{severity:"error",children:S}),e&&(0,w.jsxs)(r.Z,{children:[e.city,",",e.state,",",e.country]}),(0,w.jsx)(x.Z,{style:{width:"100%"},color:"primary",variant:"contained",startIcon:(0,w.jsx)(v,{}),onClick:function(){C(null),L()},children:m?(0,w.jsx)(Z.Z,{variant:"indeterminate",color:"primary",size:"26px"}):"My Location"})]}),(0,w.jsxs)(p.Z,{children:[(0,w.jsx)(x.Z,{onClick:function(){return l(!1)},children:"Cancel"}),(0,w.jsx)(x.Z,{onClick:function(){l(!1),i()},children:"Update"})]})]})]})},U=t(108),C=[];function L(n,e){var t=function(n){var e=(0,d.useState)(),t=e[0],o=e[1];return(0,d.useEffect)((function(){if(window.google)o(window.google);else{var e="https://maps.googleapis.com/maps/api/js?key="+n,t=C.find((function(n){return n.src===e})),i=function(){o(window.google)};if(!t){var r=document.createElement("script");return r.src=e,r.async=!0,r.defer=!0,r.addEventListener("load",i),document.head.appendChild(r),C.push(r),function(){r.removeEventListener("load",i),r.remove(),C.splice(C.findIndex((function(n){return n.src===e})),1)}}t.addEventListener("load",i)}}),[n]),t}(n),o=(0,d.useRef)(null),i=(0,d.useState)(),r=i[0],c=i[1];return(0,d.useEffect)((function(){t&&o&&c(new t.maps.Map(o.current,e))}),[t,o]),{ref:o,map:r,google:t}}var E=function(n){var e=n.coords,t=n.zoom,o=L("AIzaSyBMZsZfaghR7UAmCwaNU4fHrnFfn7lYtFw",{center:e,zoom:void 0===t?17:t}).ref;return(0,w.jsx)("div",{ref:o,style:{width:"100%",height:"400px"}})},k=t(4483),z=t(3174),_=t(1297);var G=function(){var n=(0,d.useContext)(u.St).userState,e=(0,d.useState)(null),t=(0,o.Z)(e,2),x=t[0],h=t[1],f=(0,U.Z)(),j=f.editLocation,Z=f.loading;return(0,w.jsxs)("div",{children:[(0,w.jsxs)(i.Z,{container:!0,alignItems:"center",justify:"space-between",children:[(0,w.jsx)(i.Z,{item:!0,children:(0,w.jsx)(r.Z,{style:{fontSize:"24px",fontWeight:"800",marginBottom:"16px",marginTop:"16px"},children:"Location Setting"})}),(0,w.jsx)(i.Z,{item:!0,children:(0,w.jsx)(S,{location:x,setLocation:h,updateLocation:function(){j(x)},loading:Z})})]}),(0,w.jsxs)("div",{style:{marginTop:"16px",marginBottom:"16px"},children:[n.currentUser.location&&(0,w.jsxs)(c.Z,{children:[(0,w.jsxs)(s.Z,{children:[(0,w.jsx)(a.Z,{children:(0,w.jsx)(k.G,{icon:z.lNt})}),(0,w.jsx)(l.Z,{children:n.currentUser.location.city})]}),(0,w.jsxs)(s.Z,{children:[(0,w.jsx)(a.Z,{children:(0,w.jsx)(k.G,{icon:z.SBo})}),(0,w.jsx)(l.Z,{children:n.currentUser.location.state})]}),(0,w.jsxs)(s.Z,{children:[(0,w.jsx)(a.Z,{children:(0,w.jsx)(k.G,{icon:_.Wx})}),(0,w.jsx)(l.Z,{children:n.currentUser.location.country})]}),(0,w.jsxs)(s.Z,{children:[(0,w.jsx)(a.Z,{children:(0,w.jsx)(k.G,{icon:z.wJh})}),(0,w.jsxs)(l.Z,{children:[n.currentUser.location.lat," "," , ",n.currentUser.location.lng]})]}),(0,w.jsxs)(s.Z,{children:[(0,w.jsx)(a.Z,{children:(0,w.jsx)(k.G,{icon:z.SBo})}),(0,w.jsx)(l.Z,{children:n.currentUser.location.region})]}),(0,w.jsxs)(s.Z,{children:[(0,w.jsx)(a.Z,{children:(0,w.jsx)(k.G,{icon:_.SZ})}),(0,w.jsx)(l.Z,{children:n.currentUser.location.timezone})]})]}),n.currentUser.location&&(0,w.jsx)(i.Z,{container:!0,style:{marginTop:"20px"},children:(0,w.jsx)(i.Z,{item:!0,xs:12,sm:12,md:12,children:(0,w.jsx)(E,{coords:{lng:parseFloat(n.currentUser.location.lng),lat:parseFloat(n.currentUser.location.lat)}})})})]})]})}}}]);
//# sourceMappingURL=955.6994c980.chunk.js.map