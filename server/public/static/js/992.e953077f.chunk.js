"use strict";(self.webpackChunkfacebook_clone_app_react_client=self.webpackChunkfacebook_clone_app_react_client||[]).push([[992],{3075:function(e,t,n){n.d(t,{Z:function(){return p}});var r=n(2791),a=n(1876),i=n(8596),s=n(1205),c=n(7690),o=n(6513),d=n(184),l="100vw",u=(0,i.Z)((function(e){return{root:{display:"flex"},drawer:{width:l,flexShrink:0,color:"rgb(86,84,255)"},drawerPaper:function(e){return{width:l,backgroundColor:"rgb(36,37,38)"}}}}));function p(e){var t=e.children,n=(0,r.useContext)(a.QE),i=n.uiState,l=n.uiDispatch,p=u(i.darkMode);return(0,d.jsx)("div",{className:p.root,children:(0,d.jsxs)(s.ZP,{open:i.drawer,className:p.drawer,variant:"persistent",classes:{paper:p.drawerPaper},onClose:function(){return l({type:"SET_DRAWER",payload:!1})},children:[(0,d.jsx)(c.Z,{}),(0,d.jsx)("div",{className:p.drawerContainer,children:t}),(0,d.jsx)(o.Z,{variant:"contained",color:"primary",onClick:function(){return l({type:"SET_DRAWER",payload:!i.drawer})},children:"Close"})]})})}},3520:function(e,t,n){var r=n(2791),a=n(3364),i=n(8154),s=n(1205),c=n(7690),o=n(1876),d=n(184);t.Z=function(e){var t=e.children,n=e.anchor,l=void 0===n?"left":n,u=e.background,p=void 0===u?"white":u,h=e.boxShadow,x=void 0===h||h,f=e.drawerWidth,g=void 0===f?380:f,y=(0,a.Z)(),E=(0,i.Z)(y.breakpoints.between(960,1400)),v=(0,r.useContext)(o.QE).uiState;return(0,d.jsxs)(s.ZP,{elevation:0,variant:"permanent",PaperProps:{style:{width:E?g-120:g,backgroundColor:p,boxShadow:x?v.darkMode?"1px 1px 3px rgb(36,37,38)":"1px 1px 3px rgba(0,0,0,0.1)":null,border:"none"}},anchor:l,children:[(0,d.jsx)(c.Z,{}),(0,d.jsx)("div",{style:{overflow:"auto"},children:t})]})}},4992:function(e,t,n){n.r(t),n.d(t,{default:function(){return W}});var r=n(7166),a=n(3032),i=n(6222),s=n(2791),c=n(8596),o=n(8302),d=n(4697),l=n(6513),u=n(1288),p=n(272),h=n(3520),x=n(283),f=n(4589),g=n(2953),y=n(1876),E=n(6364),v=n(184),m=(0,c.Z)((function(e){return{container:{paddingLeft:"6px",paddingTop:"6px",paddingBottom:"8px","&:hover":{background:"whitesmoke",cursor:"pointer"}}}}));var S=function(e){var t=e.user,n=e.children,r=(0,s.useContext)(y.St).userDispatch,a=(0,s.useContext)(y.QE),i=a.uiState,c=a.uiDispatch;return m(),(0,v.jsx)(s.Fragment,{children:(0,v.jsxs)(x.Z,{elevation:0,style:{width:"100%",backgroundColor:i.darkMode?"rgb(36,37,38)":null},children:[(0,v.jsx)(f.Z,{onClick:function(){r({type:"ADD_SELECTED_USER_PROFILE",payload:t}),c({type:"SET_DRAWER",payload:!1})},children:(0,v.jsxs)(g.Z,{style:{display:"flex",alignItems:"center",justifyContent:"flex-start"},children:[t.profile_pic?(0,v.jsx)(p.Z,{style:{width:"60px",height:"60px"},children:(0,v.jsx)("img",{alt:"",src:t.profile_pic,style:{width:"100%",height:"100%"}})}):(0,v.jsx)(E.Z,{text:t.name,bg:t.active?"seagreen":" tomato"}),(0,v.jsxs)("div",{style:{display:"flex",flexDirection:"column",marginLeft:"8px"},children:[(0,v.jsx)(o.Z,{variant:"subtitle1",style:{marginBottom:"4px",fontWeight:"600"},children:t.name}),(0,v.jsx)(o.Z,{variant:"body2"})]})]})}),n]})})},Z=n(3430),j=n(1044),b="http://localhost:5000",k=function(){var e=(0,s.useState)(!1),t=(0,Z.Z)(e,2),n=t[0],i=t[1],c=(0,s.useContext)(y.St).userDispatch,o=(0,s.useContext)(y.QE).uiDispatch,d=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t){var n,a,s;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=JSON.parse(localStorage.getItem("token")),e.prev=1,i(!0),e.next=5,j.ZP.get("".concat(b,"/api/user/friend_request/").concat(t,"/accept"),{headers:{Authorization:"Bearer ".concat(n)}});case 5:a=e.sent,s=a.data,i(!1),s&&(c({type:"ADD_FRIEND",payload:s.user}),c({type:"REMOVE_FRIENDS_REQUEST_RECEIVED",payload:t}),o({type:"SET_MESSAGE",payload:{color:"success",display:!0,text:s.message}})),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(1),i(!1),e.t0&&e.t0.response&&o({type:"SET_MESSAGE",payload:{color:"error",display:!0,text:e.t0.response.data.error}});case 15:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}(),l=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t){var n,a,s;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=JSON.parse(localStorage.getItem("token")),e.prev=1,i(!0),e.next=5,j.ZP.get("".concat(b,"/api/user/friend_request/").concat(t,"/decline"),{headers:{Authorization:"Bearer ".concat(n)}});case 5:a=e.sent,s=a.data,i(!1),s&&(c({type:"REMOVE_FRIENDS_REQUEST_RECEIVED",payload:t}),o({type:"SET_MESSAGE",payload:{color:"success",display:!0,text:s.message}})),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(1),i(!1),e.t0&&e.t0.response&&o({type:"SET_MESSAGE",payload:{color:"error",display:!0,text:e.t0.response.data.error}});case 15:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}(),u=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t){var n,a,s;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=JSON.parse(localStorage.getItem("token")),e.prev=1,i(!0),e.next=5,j.ZP.get("".concat(b,"/api/user/friend_request/").concat(t,"/send"),{headers:{Authorization:"Bearer ".concat(n)}});case 5:a=e.sent,s=a.data,i(!1),s&&(c({type:"ADD_FRIENDS_REQUEST_SENDED",payload:s.friend}),o({type:"SET_MESSAGE",payload:{color:"success",display:!0,text:s.message}})),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(1),i(!1),e.t0&&e.t0.response&&o({type:"SET_MESSAGE",payload:{color:"error",display:!0,text:e.t0.response.data.error}});case 15:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}(),p=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t){var n,a,i;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=JSON.parse(localStorage.token),e.prev=1,e.next=4,j.ZP.get("".concat(b,"/api/user/friend_request/").concat(t,"/cancel"),{headers:{Authorization:"Bearer ".concat(n)}});case 4:a=e.sent,(i=a.data)&&(c({type:"REMOVE_FRIENDS_REQUEST_SENDED",payload:t}),o({type:"SET_MESSAGE",payload:{color:"success",display:!0,text:i.message}})),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),e.t0&&e.t0.response&&o({type:"SET_MESSAGE",payload:{color:"error",display:!0,text:e.t0.response.data.error}});case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}();return{sendFriendRequest:u,declineFriendRequest:l,acceptFriendRequest:d,cancelFriendRequest:p,loading:n}},C=n(7025),w=n(3837),A=n(4026),F=n(1606),R=n(5720),D=n(2067),N=n(8096),T=n(1969),_=n(159),q=n(269),O=n(1523);var P=function(){var e=(0,s.useState)([]),t=(0,Z.Z)(e,2),n=t[0],i=t[1],c=(0,s.useState)(!1),o=(0,Z.Z)(c,2),d=o[0],l=o[1],u=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t){var n;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,l(!0),e.next=4,j.ZP.get("".concat("http://localhost:5000","/api/user/search?name=").concat(t));case 4:n=e.sent,i(n.data.users),l(!1),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),l(!1),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}();return{searchFriends:u,friends:n,loading:d}},I=n(5919);var Q=function(){var e=(0,s.useState)(null),t=(0,Z.Z)(e,2),n=t[0],r=t[1],a=(0,s.useState)(""),i=(0,Z.Z)(a,2),c=i[0],d=i[1],u=P(),h=u.searchFriends,x=u.friends,f=u.loading,g=function(){r(!1)};return(0,v.jsxs)("div",{children:[(0,v.jsx)(C.Z,{onClick:function(){r(!0)},children:(0,v.jsx)(I.Z,{})}),(0,v.jsxs)(w.Z,{fullWidth:!0,maxWidth:"sm",open:n,onClose:g,children:[(0,v.jsxs)(A.Z,{children:[(0,v.jsx)(F.Z,{style:{width:"100%"},value:c,onChange:function(e){return d(e.target.value)},variant:"outlined",placeholder:"Enter Friends Name"}),(0,v.jsx)(l.Z,{style:{width:"100%",marginTop:"16px"},variant:"contained",color:"primary",onClick:function(){h(c)},children:"Search"}),x.length?(0,v.jsxs)(o.Z,{variant:"h4",style:{marginTop:"20px"},children:["Search Friends (",x.length,")"]}):null,f?(0,v.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",marginTop:"20px"},children:(0,v.jsx)(R.Z,{})}):(0,v.jsx)(D.Z,{children:x&&x.map((function(e){return(0,v.jsxs)(N.Z,{button:!0,onClick:g,component:O.rU,to:"/profile/".concat(e.id),children:[(0,v.jsx)(T.Z,{children:e.profile_pic?(0,v.jsx)(p.Z,{style:{width:"60px",height:"60px"},children:(0,v.jsx)("img",{src:e.profile_pic,width:"100%",height:"100%",alt:e.name})}):(0,v.jsx)(E.Z,{text:e.name,bg:e.active?"seagreen":"tomato"})}),(0,v.jsxs)(_.Z,{style:{marginLeft:"8px"},children:[(0,v.jsx)(o.Z,{style:{fontSize:"17px",fontWeight:"700"},children:e.name}),(0,v.jsx)(o.Z,{children:e.email})]})]},e.id)}))})]}),(0,v.jsx)(q.Z,{children:(0,v.jsx)(l.Z,{onClick:g,children:"Cancel"})})]})]})};var U=function(e){var t=e.users,n=(0,s.useContext)(y.St).userState,r=k().sendFriendRequest,a=function(e){var t=n.sendedFriendRequests.findIndex((function(t){return t.user.id==e.id})),r=n.receivedFriendRequests.findIndex((function(t){return t.user.id==e.id})),a=n.currentUser.friends.findIndex((function(t){return t.id==e.id})),i=n.currentUser.id==e.id;return-1===t&&-1===r&&-1===a&&!i};return(0,v.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"stretch",justifyContent:"center",marginLeft:"8px",marginRight:"6px"},children:[(0,v.jsx)(Q,{}),(0,v.jsx)(o.Z,{style:{fontWeight:"700",fontSize:"16px",marginTop:"8px",marginBottom:"8px"},children:"People You May Know"}),t&&t.length?t.map((function(e){return(0,v.jsx)("div",{style:{width:"100%"},children:a(e)&&(0,v.jsx)(S,{user:e,children:(0,v.jsx)(d.Z,{children:(0,v.jsx)(l.Z,{onClick:function(){return t=e.id,void r(t);var t},variant:"contained",style:{background:"rgb(1,133,243)",color:"white"},children:"Add Friend"})})})},e.id)})):null]})},J=n(3075),H=n(7635),V=n(6470),M=(0,c.Z)((function(e){return{sidebarContainer:{display:"flex",flexDirection:"column",alignItems:"flex-start",justifyContent:"center",marginLeft:"16px"},noRequest:{marginLeft:"32px",marginTop:"16px",color:"grey"},divider:{width:"90%",height:"1px",marginTop:"16px"},main:(0,i.Z)({display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:"100vh",marginLeft:"320px"},e.breakpoints.between("xs","sm"),{marginLeft:0}),avatar:{width:"112px",height:"112px",background:"transparent"},image:{width:"100%",height:"100%"},selectText:{color:"#65676B",fontSize:"20px",fontFamily:"sans-serif",fontWeight:"700"}}}));var W=function(){var e=M(),t=(0,s.useContext)(y.QE),i=t.uiState,c=t.uiDispatch,x=(0,s.useContext)(y.St),f=x.userState,g=x.userDispatch;(0,s.useEffect)((function(){function e(){return(e=(0,a.Z)((0,r.Z)().mark((function e(){var t;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,V.HM)();case 2:(t=e.sent).data&&g({type:"SET_FRIENDS_REQUEST_SENDED",payload:t.data.friends});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function t(){return(t=(0,a.Z)((0,r.Z)().mark((function e(){var t;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,V.QF)();case 2:(t=e.sent)&&t.data&&g({type:"SET_FRIENDS_REQUEST_RECEIVED",payload:t.data.friends});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function n(){return(n=(0,a.Z)((0,r.Z)().mark((function e(){var t;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,V.$_)();case 2:(t=e.sent)&&t.data&&g({type:"SET_USERS",payload:t.data.users});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return c({type:"SET_NAV_MENU",payload:!0}),function(){n.apply(this,arguments)}(),function(){t.apply(this,arguments)}(),function(){e.apply(this,arguments)}(),function(){g({type:"REMOVE_SELECTED_USER_PROFILE",payload:null}),c({type:"SET_NAV_MENU",payload:!1})}}),[]);var E=k(),m=E.acceptFriendRequest,Z=E.declineFriendRequest,j=E.cancelFriendRequest,b=(0,v.jsxs)("div",{className:e.sidebarContainer,children:[(0,v.jsx)(o.Z,{variant:"h6",children:"Friends"}),f.sendedFriendRequests.length?(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(o.Z,{variant:"h6",children:"Sended Friend Request"}),f.sendedFriendRequests.map((function(e){return(0,v.jsx)(S,{user:e.user,children:(0,v.jsx)(d.Z,{children:(0,v.jsx)(l.Z,{onClick:function(){return t=e.id,void j(t);var t},variant:"contained",style:{background:"tomato",color:"white"},children:"Cancel"})})},e.id)}))]}):null,f.receivedFriendRequests.length?(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(o.Z,{variant:"h6",children:"Incomming Friend Requests"}),f.receivedFriendRequests.map((function(e){return(0,v.jsx)("div",{children:(0,v.jsx)(S,{user:e.user,children:(0,v.jsxs)(d.Z,{children:[(0,v.jsx)(l.Z,{onClick:function(){return t=e.id,void m(t);var t},variant:"contained",style:{background:"seagreen",color:"white"},children:"Accept"}),(0,v.jsx)(l.Z,{variant:"contained",style:{background:"tomato",color:"white"},onClick:function(){return t=e.id,void Z(t);var t},children:"Decline"})]})},e.id)})}))]}):null]});return(0,v.jsxs)("div",{children:[i.mdScreen?(0,v.jsxs)(u.Z,{container:!0,spacing:0,children:[(0,v.jsx)(u.Z,{item:!0,md:3,children:(0,v.jsxs)(h.Z,{background:i.darkMode&&"rgb(36,37,38)",children:[b,(0,v.jsx)(U,{users:f.users})]})}),(0,v.jsx)(u.Z,{item:!0,md:8,style:{margin:"auto"},children:f.selectedUserProfile&&(0,v.jsx)(H.Z,{user:f.selectedUserProfile,conScreen:!0})})]}):(0,v.jsxs)(v.Fragment,{children:[(0,v.jsxs)(J.Z,{children:[b,(0,v.jsx)(U,{users:f.users})]}),f.selectedUserProfile&&(0,v.jsx)(H.Z,{user:f.selectedUserProfile})]}),!f.selectedUserProfile&&(0,v.jsxs)("div",{className:e.main,style:{backgroundColor:i.darkMode?"rgb(24,25,26)":null},children:[(0,v.jsx)(p.Z,{variant:"square",className:e.avatar,children:(0,v.jsx)("img",{src:n(3563),className:e.image,alt:""})}),(0,v.jsx)(o.Z,{className:e.selectText,children:"Select people's names to preview their profile."})]})]})}},3563:function(e){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAAFRklEQVR4Ae2WA9AkOxDHk5lZn+1n27Zt27Zt28bZtm3btr/DcmbSL6n5V2pe6vbDoXhd1ZWOOr90enuW7aLslb3Cd8caCO1pIG7YFpSHAASUdhcYL2scEM5BbdbdzlLV7ua2c4QaJN+bybIlTeffXKe17HoAK6/QTgEBJnJQp/SvLJq4hxEmOZcmBW7dbNP516ceVRagsJ/ZqoUS1C8rmlYxGLTWvn/Mv4TZEsYPjiNBjHxiqk+yr+bUmhCAde6550a/nDPplR+Xzpr048q5G3+QreqrcZxZNCC8jOhED2yzvYuMzsWsNClk+y24tdL1ylJgn8+b/Es0Hr9XeSJSEQ3curncPy8ddOxjiCbtKEpOsSeDRpgVOUhFhvRzwQsWqHHizkHwJZ7q0PRQKxG/2yPCUYCSHR6P3fNs53bff3vdzTPMH0NZQDoPSNj1lEcinTuw4Y2U7dTDkznJ+g1OdYVvBQ6C9WgVgpVoUPsUOTUH0cQ5jMoGglChsJQ50UODXQLHKJsCQAXrFZbgiW0eset7BAjkuLIYoJhtNzCSHVI+IBK5bZN5osaheoQTE4iQIAq85jJT4Jxt21yyJFa7Fo4ngDG8EJfzmxQ8N6HKC+TnRrT9NnHBY9dKO0FBMugnwN2z2eEtv8OJYlqPvmPOemb/bdxildU8QHA7f9uMPgNGV7AOgRw1SGqq4QcT74o1POpTwVg0dCW1oJBfOf3VlW+d0IJJMAzHHhrQ+eEa++37MTNk0+Ilr/9x4XW/STNtFFMqq3pbSNKY1CpS69Z7+N8rmny/ts++v6XXKFV2vYebX6HmpFZVEVTKsP72jv8+/PSMUZOenz9+69PTRk1SfaytLDVqFM7y1SEDLA5HEcy7+KXk0Ipw/QJcDPt9qXlEUbW+UbWL/sp4kWhxOPDQwomysQZirC8wiLFWGAmtbV4Exlba6OOFV1iJGrcyO3oq53YdYizGUX3Vfs6sPJG3jvmFsf7WVe1OOXbChpr7H/AEjzinMm7VUdEM1pPicBmJdb6bH7Nt1frv211yw9gdfJSJwwi3dsPnh+9nNTqmKbcjp/6fVxdFtLgYpFr1NB11zHIei+V1jdLCUb+IpGkJL5NpOrtd+5fGffJTSRiKmzB1nx58SHTfkwfJbm1AmNEFjTFHwaHRmMuOP3UeSyRdPa+jaiSDl8m1aXX8effrHDSA7BqnXJZMXd92DFnOYVy7g+DGxjgwwQfYZOUsO/7suWDGKlCh1R7yGzY+3PHsq5ri+YiHoJwGby1+1ErV+U52QycSLq+B4BTjsJWEDzvg2KWsTuON4WF9mfBzkudN6HDMuefi1yqc0HNFuFP1JiYYqrAZIkQnZIdFJzoP9q9fVp3VbLwBG5A7uCgJoW1uW4eFa5ITjpDsHk4+eriphjO+3MgOyQ/n2EOw05vjzBUCNIgKCdNmlmUlQkAsHCGLhFUDJQIHiFBSIjacNK+0kc/YowS26zvMZxSOHvbBNX4IIpudbH5cuYYSfomErUZEOkmVjYQO/x8Csx5HIEiPOTGPubLViSxCeSaEavMinZu4vu/gF5DQOjI2qmeq3nNLv+XJGvewogKScojYtrrV2u8Pfh+boFoENC81B3WR1HqhV9LlvneqXvGLx5N1rmKWXYcZvwhcEH2IuUb46yi9pmdJ57s+k73tuL0JRADyoPiuIXegCi4OjaJvsYqJgOMCbu9izITRUIaSE6L34QihxEeyYqJ9hZRKATKVOQati5YbWqaYNzdaKnNPkW+ZqWyngKDGWHmEuHlgxUHKvnVFoHg5x3YFrELyH4+psE5bV4QBAAAAAElFTkSuQmCC"}}]);
//# sourceMappingURL=992.e953077f.chunk.js.map