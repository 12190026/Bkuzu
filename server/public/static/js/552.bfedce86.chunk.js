"use strict";(self.webpackChunkfacebook_clone_app_react_client=self.webpackChunkfacebook_clone_app_react_client||[]).push([[552],{7552:function(e,t,n){n.r(t),n.d(t,{default:function(){return S}});var a=n(3430),r=n(2791),i=n(6828),s=n(1606),o=n(6513),l=n(5720),c=n(7166),d=n(3032),u=n(8489),p=n(1044),m=n(1876),g=n(9538),f=n(4664),x=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=(0,r.useContext)(m.QE),n=t.uiDispatch,i=(0,r.useContext)(m.St),s=i.userDispatch,o=(0,g.k6)(),l=(0,r.useState)(!1),x=(0,a.Z)(l,2),h=x[0],v=x[1],Z=(0,r.useState)(null),y=(0,a.Z)(Z,2),w=y[0],E=y[1],b=(0,r.useState)({email:"",password:""}),S=(0,a.Z)(b,2),k=S[0],C=S[1];(0,r.useEffect)((function(){return C((0,u.Z)((0,u.Z)({},k),{},{email:e?e.email:""})),function(){}}),[]);var W=function(e){C((0,u.Z)((0,u.Z)({},k),{},{password:e.target.value})),E((0,u.Z)((0,u.Z)({},w),{},{password:""}))},T=function(e){C((0,u.Z)((0,u.Z)({},k),{},{email:e.target.value})),E((0,u.Z)((0,u.Z)({},w),{},{email:""}))};function _(e){return N.apply(this,arguments)}function N(){return(N=(0,d.Z)((0,c.Z)().mark((function e(t){var a,r,i;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),v(!0),e.prev=2,e.next=5,p.ZP.post("http://localhost:5000/api/auth/login",k);case 5:return a=e.sent,r=a.data,localStorage.setItem("token",JSON.stringify(r.data.token)),e.next=10,(0,f.k)();case 10:i=e.sent,v(!1),s({type:"SET_CURRENT_USER",payload:i.data.user}),n({type:"SET_MESSAGE",payload:{color:"success",display:!0,text:r.message}}),o.push("/home"),e.next=22;break;case 17:e.prev=17,e.t0=e.catch(2),v(!1),console.log(e.t0),e.t0&&e.t0.response&&(422===e.t0.response.status&&E((0,u.Z)({},e.t0.response.data.error)),400===e.t0.response.status&&n({type:"SET_MESSAGE",payload:{color:"error",display:!0,text:e.t0.response.data.error}}));case 22:case"end":return e.stop()}}),e,null,[[2,17]])})))).apply(this,arguments)}return{loading:h,error:w,handleLoginUser:_,handleEmailChange:T,handlePasswordChange:W}};var h=function(){var e=x(),t=e.loading,n=e.error,a=e.handleLoginUser,c=e.handlePasswordChange,d=e.handleEmailChange;return r.createElement(r.Fragment,null,r.createElement("form",{onSubmit:a},r.createElement(i.Z,{style:{width:"100%"}},r.createElement(s.Z,{onChange:d,label:"Email",variant:"outlined",error:!(!n||!n.email),helperText:n&&n.email?n.email:null})),r.createElement(i.Z,{style:{width:"100%"}},r.createElement(s.Z,{error:!(!n||!n.password),helperText:n&&n.password?n.password:null,onChange:c,label:"Password",variant:"outlined",style:{marginTop:"16px"},type:"password"})),r.createElement(o.Z,{type:"submit",disabled:t,style:{width:"100%",background:"rgb(24,119,242)",color:"#fff",marginTop:"16px"},variant:"contained"},t?r.createElement(l.Z,{variant:"indeterminate",size:25,style:{color:"#fff"}}):" Log In")))},v=function(){var e=(0,r.useContext)(m.QE).uiDispatch,t=(0,r.useContext)(m.St).userDispatch,n=(0,g.k6)(),i=(0,r.useState)(!1),s=(0,a.Z)(i,2),o=s[0],l=s[1],x=(0,r.useState)(null),h=(0,a.Z)(x,2),v=h[0],Z=h[1],y=(0,r.useState)({name:"",email:"",password:""}),w=(0,a.Z)(y,2),E=w[0],b=w[1];function S(){return(S=(0,d.Z)((0,c.Z)().mark((function a(r){var i,s,o;return(0,c.Z)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r.preventDefault(),l(!0),a.prev=2,a.next=5,p.ZP.post("http://localhost:5000/api/auth/signup",E);case 5:return i=a.sent,s=i.data,localStorage.setItem("token",JSON.stringify(s.data.token)),a.next=10,(0,f.k)();case 10:o=a.sent,l(!1),t({type:"SET_CURRENT_USER",payload:o.data.user}),e({type:"SET_MESSAGE",payload:{color:"success",display:!0,text:s.message}}),n.push("/home"),a.next=22;break;case 17:a.prev=17,a.t0=a.catch(2),l(!1),console.log(a.t0),a.t0&&a.t0.response&&(422===a.t0.response.status&&Z((0,u.Z)({},a.t0.response.data.error)),400===a.t0.response.status&&e({type:"SET_MESSAGE",payload:{color:"error",display:!0,text:a.t0.response.data.error}}));case 22:case"end":return a.stop()}}),a,null,[[2,17]])})))).apply(this,arguments)}return{loading:o,error:v,handleSignupUser:function(e){return S.apply(this,arguments)},handleNameChange:function(e){Z((0,u.Z)((0,u.Z)({},v),{},{name:""})),b((0,u.Z)((0,u.Z)({},E),{},{name:e.target.value}))},handleEmailChange:function(e){Z((0,u.Z)((0,u.Z)({},v),{},{email:""})),b((0,u.Z)((0,u.Z)({},E),{},{email:e.target.value}))},handlePasswordChange:function(e){b((0,u.Z)((0,u.Z)({},E),{},{password:e.target.value})),Z((0,u.Z)((0,u.Z)({},v),{},{password:""}))}}};var Z=function(){var e=v(),t=e.loading,n=e.error,a=e.handleSignupUser,c=e.handleNameChange,d=e.handlePasswordChange,u=e.handleEmailChange;return r.createElement(r.Fragment,null,r.createElement("form",{onSubmit:a},r.createElement(i.Z,{style:{width:"100%"}},r.createElement(s.Z,{error:!(!n||!n.name),helperText:n&&n.name?n.name:null,onChange:c,label:"Name",variant:"outlined",style:{marginTop:"16px"}})),r.createElement(i.Z,{style:{width:"100%"}},r.createElement(s.Z,{onChange:u,label:"Email",variant:"outlined",error:!(!n||!n.email),helperText:n&&n.email?n.email:null,style:{marginTop:"16px"}})),r.createElement(i.Z,{style:{width:"100%"}},r.createElement(s.Z,{error:!(!n||!n.password),helperText:n&&n.password?n.password:null,onChange:d,label:"Password",variant:"outlined",style:{marginTop:"16px"},type:"password"})),r.createElement(o.Z,{type:"submit",disabled:t,style:{width:"100%",background:"rgb(24,119,242)",color:"#fff",marginTop:"16px"},variant:"contained"},t?r.createElement(l.Z,{variant:"indeterminate",size:25,style:{color:"#fff"}}):" Sign up")))},y=n(3712),w=n(1288),E=n(9526),b=n(7447),S=function(){var e=(0,r.useState)(!0),t=(0,a.Z)(e,2),n=t[0],i=t[1];(0,r.useContext)(m.QE).uiState;return r.createElement("div",{className:"login_wrap"},r.createElement("div",{className:"login_1"},r.createElement("img",{src:"../../icons/bkuzulogo.png",alt:"",class:"responsive"})),r.createElement("div",{className:"login_2"},r.createElement(y.Z,null,r.createElement("span",null,"Login"),r.createElement(w.Z,{container:!0,spacing:3,style:{marginTop:"20px"}},r.createElement(w.Z,{item:!0,xs:12,sm:6,md:10},r.createElement(E.Z,{elevation:8,style:{padding:"16px",display:"flex",flexDirection:"column"}},n?r.createElement(h,null):r.createElement(Z,null),r.createElement(b.Z,null),r.createElement(o.Z,{onClick:function(){return i(!n)},style:{marginTop:"24px",background:"rgb(74,183,43)",color:"#fff"}},n?"Create New Account":" Already have an Account")))))))}},3712:function(e,t,n){var a=n(7462),r=n(5987),i=n(4942),s=n(2791),o=(n(2007),n(8182)),l=n(8317),c=n(1122),d=s.forwardRef((function(e,t){var n=e.classes,i=e.className,l=e.component,d=void 0===l?"div":l,u=e.disableGutters,p=void 0!==u&&u,m=e.fixed,g=void 0!==m&&m,f=e.maxWidth,x=void 0===f?"lg":f,h=(0,r.Z)(e,["classes","className","component","disableGutters","fixed","maxWidth"]);return s.createElement(d,(0,a.Z)({className:(0,o.Z)(n.root,i,g&&n.fixed,p&&n.disableGutters,!1!==x&&n["maxWidth".concat((0,c.Z)(String(x)))]),ref:t},h))}));t.Z=(0,l.Z)((function(e){return{root:(0,i.Z)({width:"100%",marginLeft:"auto",boxSizing:"border-box",marginRight:"auto",paddingLeft:e.spacing(2),paddingRight:e.spacing(2),display:"block"},e.breakpoints.up("sm"),{paddingLeft:e.spacing(3),paddingRight:e.spacing(3)}),disableGutters:{paddingLeft:0,paddingRight:0},fixed:Object.keys(e.breakpoints.values).reduce((function(t,n){var a=e.breakpoints.values[n];return 0!==a&&(t[e.breakpoints.up(n)]={maxWidth:a}),t}),{}),maxWidthXs:(0,i.Z)({},e.breakpoints.up("xs"),{maxWidth:Math.max(e.breakpoints.values.xs,444)}),maxWidthSm:(0,i.Z)({},e.breakpoints.up("sm"),{maxWidth:e.breakpoints.values.sm}),maxWidthMd:(0,i.Z)({},e.breakpoints.up("md"),{maxWidth:e.breakpoints.values.md}),maxWidthLg:(0,i.Z)({},e.breakpoints.up("lg"),{maxWidth:e.breakpoints.values.lg}),maxWidthXl:(0,i.Z)({},e.breakpoints.up("xl"),{maxWidth:e.breakpoints.values.xl})}}),{name:"MuiContainer"})(d)},1288:function(e,t,n){var a=n(5987),r=n(7462),i=n(2791),s=(n(2007),n(8182)),o=n(8317),l=[0,1,2,3,4,5,6,7,8,9,10],c=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12];function d(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=parseFloat(e);return"".concat(n/t).concat(String(e).replace(String(n),"")||"px")}var u=i.forwardRef((function(e,t){var n=e.alignContent,o=void 0===n?"stretch":n,l=e.alignItems,c=void 0===l?"stretch":l,d=e.classes,u=e.className,p=e.component,m=void 0===p?"div":p,g=e.container,f=void 0!==g&&g,x=e.direction,h=void 0===x?"row":x,v=e.item,Z=void 0!==v&&v,y=e.justify,w=e.justifyContent,E=void 0===w?"flex-start":w,b=e.lg,S=void 0!==b&&b,k=e.md,C=void 0!==k&&k,W=e.sm,T=void 0!==W&&W,_=e.spacing,N=void 0===_?0:_,j=e.wrap,M=void 0===j?"wrap":j,G=e.xl,R=void 0!==G&&G,z=e.xs,D=void 0!==z&&z,I=e.zeroMinWidth,L=void 0!==I&&I,P=(0,a.Z)(e,["alignContent","alignItems","classes","className","component","container","direction","item","justify","justifyContent","lg","md","sm","spacing","wrap","xl","xs","zeroMinWidth"]),U=(0,s.Z)(d.root,u,f&&[d.container,0!==N&&d["spacing-xs-".concat(String(N))]],Z&&d.item,L&&d.zeroMinWidth,"row"!==h&&d["direction-xs-".concat(String(h))],"wrap"!==M&&d["wrap-xs-".concat(String(M))],"stretch"!==c&&d["align-items-xs-".concat(String(c))],"stretch"!==o&&d["align-content-xs-".concat(String(o))],"flex-start"!==(y||E)&&d["justify-content-xs-".concat(String(y||E))],!1!==D&&d["grid-xs-".concat(String(D))],!1!==T&&d["grid-sm-".concat(String(T))],!1!==C&&d["grid-md-".concat(String(C))],!1!==S&&d["grid-lg-".concat(String(S))],!1!==R&&d["grid-xl-".concat(String(R))]);return i.createElement(m,(0,r.Z)({className:U,ref:t},P))})),p=(0,o.Z)((function(e){return(0,r.Z)({root:{},container:{boxSizing:"border-box",display:"flex",flexWrap:"wrap",width:"100%"},item:{boxSizing:"border-box",margin:"0"},zeroMinWidth:{minWidth:0},"direction-xs-column":{flexDirection:"column"},"direction-xs-column-reverse":{flexDirection:"column-reverse"},"direction-xs-row-reverse":{flexDirection:"row-reverse"},"wrap-xs-nowrap":{flexWrap:"nowrap"},"wrap-xs-wrap-reverse":{flexWrap:"wrap-reverse"},"align-items-xs-center":{alignItems:"center"},"align-items-xs-flex-start":{alignItems:"flex-start"},"align-items-xs-flex-end":{alignItems:"flex-end"},"align-items-xs-baseline":{alignItems:"baseline"},"align-content-xs-center":{alignContent:"center"},"align-content-xs-flex-start":{alignContent:"flex-start"},"align-content-xs-flex-end":{alignContent:"flex-end"},"align-content-xs-space-between":{alignContent:"space-between"},"align-content-xs-space-around":{alignContent:"space-around"},"justify-content-xs-center":{justifyContent:"center"},"justify-content-xs-flex-end":{justifyContent:"flex-end"},"justify-content-xs-space-between":{justifyContent:"space-between"},"justify-content-xs-space-around":{justifyContent:"space-around"},"justify-content-xs-space-evenly":{justifyContent:"space-evenly"}},function(e,t){var n={};return l.forEach((function(a){var r=e.spacing(a);0!==r&&(n["spacing-".concat(t,"-").concat(a)]={margin:"-".concat(d(r,2)),width:"calc(100% + ".concat(d(r),")"),"& > $item":{padding:d(r,2)}})})),n}(e,"xs"),e.breakpoints.keys.reduce((function(t,n){return function(e,t,n){var a={};c.forEach((function(e){var t="grid-".concat(n,"-").concat(e);if(!0!==e)if("auto"!==e){var r="".concat(Math.round(e/12*1e8)/1e6,"%");a[t]={flexBasis:r,flexGrow:0,maxWidth:r}}else a[t]={flexBasis:"auto",flexGrow:0,maxWidth:"none"};else a[t]={flexBasis:0,flexGrow:1,maxWidth:"100%"}})),"xs"===n?(0,r.Z)(e,a):e[t.breakpoints.up(n)]=a}(t,e,n),t}),{}))}),{name:"MuiGrid"})(u);t.Z=p}}]);
//# sourceMappingURL=552.bfedce86.chunk.js.map