"use strict";(self.webpackChunkfacebook_clone_app_react_client=self.webpackChunkfacebook_clone_app_react_client||[]).push([[955],{7955:function(e,t,n){n.r(t),n.d(t,{default:function(){return G}});var o=n(3430),l=n(1288),r=n(8302),a=n(2067),c=n(8096),i=n(1969),u=n(159),m=n(2791),s=n(1876),d=n(6513),E=n(3837),f=n(5159),Z=n(4026),p=n(5720),g=n(269),v=n(2130),y=(0,n(1997).Z)(m.createElement("path",{d:"M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"}),"LocationOn"),h=n(1044);var w=function(){var e=(0,m.useState)(!1),t=(0,o.Z)(e,2),n=t[0],l=t[1],r=(0,m.useState)(null),a=(0,o.Z)(r,2),c=a[0],i=a[1],u=(0,m.useState)(null),s=(0,o.Z)(u,2),d=s[0],E=s[1];function f(){i("Could not find location . Enter location manually"),l(!1)}return{loading:n,data:d,error:c,getLocation:function(){l(!0),navigator.geolocation.getCurrentPosition((function(e){!function(e){var t="https://geocode.xyz/".concat(e.coords.latitude,",").concat(e.coords.longitude,"?json=1");h.ZP.get(t).then((function(e){!function(e){E({city:null===e||void 0===e?void 0:e.city,country:null===e||void 0===e?void 0:e.country,lat:null===e||void 0===e?void 0:e.latt,lng:null===e||void 0===e?void 0:e.longt,region:null===e||void 0===e?void 0:e.region,state:null===e||void 0===e?void 0:e.state,timezone:null===e||void 0===e?void 0:e.timezone}),l(!1)}(e.data)})).catch((function(e){f()}))}(e)}),(function(e){f()}),{timeout:7e3})},setError:i}};var S=function(e){var t=e.location,n=e.setLocation,l=e.updateLocation,a=(e.loading,(0,m.useState)(!1)),c=(0,o.Z)(a,2),i=c[0],u=c[1],s=w(),h=s.loading,S=s.error,U=s.data,x=s.setError,C=s.getLocation;return(0,m.useEffect)((function(){n(U)}),[U]),m.createElement(m.Fragment,null,m.createElement(d.Z,{variant:"contained",color:"primary",onClick:function(){return u(!0)}},"Edit"),m.createElement(E.Z,{open:i,onClose:function(){return u(!1)},maxWidth:"sm",fullWidth:!0},m.createElement(f.Z,null,"Update Location"),m.createElement(Z.Z,null,S&&m.createElement(v.Z,{severity:"error"},S),t&&m.createElement(r.Z,null,t.city,",",t.state,",",t.country),m.createElement(d.Z,{style:{width:"100%"},color:"primary",variant:"contained",startIcon:m.createElement(y,null),onClick:function(){x(null),C()}},h?m.createElement(p.Z,{variant:"indeterminate",color:"primary",size:"26px"}):"My Location")),m.createElement(g.Z,null,m.createElement(d.Z,{onClick:function(){return u(!1)}},"Cancel"),m.createElement(d.Z,{onClick:function(){u(!1),l()}},"Update"))))},U=n(108),x=[];function C(e,t){var n=function(e){var t=(0,m.useState)(),n=t[0],o=t[1];return(0,m.useEffect)((function(){if(window.google)o(window.google);else{var t="https://maps.googleapis.com/maps/api/js?key="+e,n=x.find((function(e){return e.src===t})),l=function(){o(window.google)};if(!n){var r=document.createElement("script");return r.src=t,r.async=!0,r.defer=!0,r.addEventListener("load",l),document.head.appendChild(r),x.push(r),function(){r.removeEventListener("load",l),r.remove(),x.splice(x.findIndex((function(e){return e.src===t})),1)}}n.addEventListener("load",l)}}),[e]),n}(e),o=(0,m.useRef)(null),l=(0,m.useState)(),r=l[0],a=l[1];return(0,m.useEffect)((function(){n&&o&&a(new n.maps.Map(o.current,t))}),[n,o]),{ref:o,map:r,google:n}}var L=function(e){var t=e.coords,n=e.zoom,o=C("AIzaSyBMZsZfaghR7UAmCwaNU4fHrnFfn7lYtFw",{center:t,zoom:void 0===n?17:n}).ref;return m.createElement("div",{ref:o,style:{width:"100%",height:"400px"}})},k=n(4483),z=n(3174),_=n(1297);var G=function(){var e=(0,m.useContext)(s.St).userState,t=(0,m.useState)(null),n=(0,o.Z)(t,2),d=n[0],E=n[1],f=(0,U.Z)(),Z=f.editLocation,p=f.loading;return m.createElement("div",null,m.createElement(l.Z,{container:!0,alignItems:"center",justify:"space-between"},m.createElement(l.Z,{item:!0},m.createElement(r.Z,{style:{fontSize:"24px",fontWeight:"800",marginBottom:"16px",marginTop:"16px"}},"Location Setting")),m.createElement(l.Z,{item:!0},m.createElement(S,{location:d,setLocation:E,updateLocation:function(){Z(d)},loading:p}))),m.createElement("div",{style:{marginTop:"16px",marginBottom:"16px"}},e.currentUser.location&&m.createElement(a.Z,null,m.createElement(c.Z,null,m.createElement(i.Z,null,m.createElement(k.G,{icon:z.lNt})),m.createElement(u.Z,null,e.currentUser.location.city)),m.createElement(c.Z,null,m.createElement(i.Z,null,m.createElement(k.G,{icon:z.SBo})),m.createElement(u.Z,null,e.currentUser.location.state)),m.createElement(c.Z,null,m.createElement(i.Z,null,m.createElement(k.G,{icon:_.Wx})),m.createElement(u.Z,null,e.currentUser.location.country)),m.createElement(c.Z,null,m.createElement(i.Z,null,m.createElement(k.G,{icon:z.wJh})),m.createElement(u.Z,null,e.currentUser.location.lat," "," , ",e.currentUser.location.lng)),m.createElement(c.Z,null,m.createElement(i.Z,null,m.createElement(k.G,{icon:z.SBo})),m.createElement(u.Z,null,e.currentUser.location.region)),m.createElement(c.Z,null,m.createElement(i.Z,null,m.createElement(k.G,{icon:_.SZ})),m.createElement(u.Z,null,e.currentUser.location.timezone))),e.currentUser.location&&m.createElement(l.Z,{container:!0,style:{marginTop:"20px"}},m.createElement(l.Z,{item:!0,xs:12,sm:12,md:12},m.createElement(L,{coords:{lng:parseFloat(e.currentUser.location.lng),lat:parseFloat(e.currentUser.location.lat)}})))))}}}]);
//# sourceMappingURL=955.d2fd7876.chunk.js.map